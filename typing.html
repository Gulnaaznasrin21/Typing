<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing test</title>

</head>
<link rel="stylesheet" href="typing.css"/>

<body>
    <div class="mainDiv"></div>
        <div class="centerDiv">
            <h1 style="text-align: center;">Let's Test Your typing speed</h1>
            <h2 id="msg"></h2>
            <br>
            <textarea  id="myWords" cols="100" rows="10" placeholder="Remember Be Nice"></textarea>
            <br>
            <button id="btn" class="mainbtn">Start</button>
        </div>
<script>
const setOfWords = ["Hello myself Naazneen I am a Developer","Every Programmer is an Author","In Every end is the seed of New Beginning...Water it well","Impossible is just an opinion","Nothing  is permanent","We are what we Frequently Do","Proud to be a female coder","The most Beautiful Name Naaz,comes from the Word PROUD"]
const Msg = document.getElementById("msg");
const typedWords = document.getElementById("myWords");
const Button = document.getElementById("btn");
let startTime , endTime;
const playGame = () =>{
    let randomNumber = Math.floor(Math.random()*setOfWords.length);
    Msg.innerText = setOfWords[randomNumber];
    let date = new Date();
    startTime = date.getTime();
    Button.innerText = "Done";
}
const endPlay = () => {
    let date = new Date();
    endTime = date.getTime();
    let totalTime = ((endTime - startTime)/1000);
    // console.log(totalTime);
    let totalStr = typedWords.value;
    let wordCount = wordCounter(totalStr);
    let speed = Math.round((wordCount / totalTime)*60);
    let finalMsg = "You typed total at " + speed + " Words per minute";
    finalMsg += compareWords(Msg.innerText, totalStr);
    Msg.innerText = finalMsg;
}
const compareWords = (str1,str2) => {
    let words1 = str1.split("");
    let words2 = str2.split("");
    let cnt = 0;
    words1.forEach(function(item,index){
        if (item == words2[index]){
            cnt++
        }
    })
    let errorWords = (words1.length - cnt);
    return (cnt + " Correct out of" + words1.length + " Words and the total number of error are" + errorWords + ".");
}
const wordCounter = (str) =>{
    let response = str.split(" ").length;
    // console.log(response);
    return response;
}
Button.addEventListener("click",function(){
    console.log(this);
    if (this.innerText == "Start"){
        typedWords.disabled = false;
        playGame();
    }else if (this.innerText == "Done"){
        typedWords.disabled = true;
        Button.innerText = "Start";
        endPlay()
    }
})
</script>
</body>
</html>